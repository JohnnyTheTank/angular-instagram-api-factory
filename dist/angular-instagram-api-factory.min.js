"use strict";angular.module("jtt_instagram",[]).factory("instagramFactory",["$http","instagramSearchDataService",function(t,e){var a={};return a.getUserById=function(a){var i=e.getNew("userById",a);return t.jsonp(i.url,{method:"GET",params:i.object})},a.getPostsFromUserById=function(a){var i=e.getNew("postsFromUserById",a);return t.jsonp(i.url,{method:"GET",params:i.object})},a.getPostsByTag=function(a){var i=e.getNew("postsByTag",a);return t.jsonp(i.url,{method:"GET",params:i.object})},a}]).service("instagramSearchDataService",function(){this.getInstagramApiBaseUrl=function(t){return"https://api.instagram.com/v1/"},this.getNew=function(t,e){var a={object:{},url:""};switch(a.object={access_token:e.access_token,client_id:e.client_id,callback:"JSON_CALLBACK"},t){case"userById":a.url=this.getInstagramApiBaseUrl()+"users/"+e.userId;break;case"postsFromUserById":a.object.count=e.count||20,"undefined"!=typeof e.max_id&&(a.object.max_id=e.max_id),"undefined"!=typeof e.min_id&&(a.object.min_id=e.min_id),"undefined"!=typeof e.min_timestamp&&(a.object.min_timestamp=e.min_timestamp),"undefined"!=typeof e.max_timestamp&&(a.object.max_timestamp=e.max_timestamp),a.url=this.getInstagramApiBaseUrl()+"users/"+e.userId+"/media/recent";break;case"postsByTag":a.object.count=e.count||20,"undefined"!=typeof e.max_tag_id&&(a.object.max_tag_id=e.max_tag_id),"undefined"!=typeof e.min_tag_id&&(a.object.min_tag_id=e.min_tag_id),"undefined"!=typeof e.min_timestamp&&(a.object.min_timestamp=e.min_timestamp),"undefined"!=typeof e.max_timestamp&&(a.object.max_timestamp=e.max_timestamp),a.url=this.getInstagramApiBaseUrl()+"tags/"+e.tag+"/media/recent"}return a}});